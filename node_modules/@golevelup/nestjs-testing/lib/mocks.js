"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const createRecursiveMockProxy = (partial = {}) => {
    const cache = new Map();
    const proxy = new Proxy(partial, {
        get: (obj, prop) => {
            if (cache.has(prop)) {
                return cache.get(prop);
            }
            const checkProp = obj[prop];
            const mockedProp = checkProp
                ? typeof checkProp === 'function'
                    ? jest.fn()
                    : checkProp
                : createRecursiveMockProxy();
            cache.set(prop, mockedProp);
            return mockedProp;
        }
    });
    return jest.fn(() => proxy);
};
exports.createMock = (partial = {}) => {
    const cache = new Map();
    const proxy = new Proxy(partial, {
        get: (obj, prop) => {
            if (prop === 'constructor' ||
                prop === 'inspect' ||
                prop === 'then' ||
                (typeof prop === 'symbol' &&
                    prop.toString() === 'Symbol(util.inspect.custom)')) {
                return undefined;
            }
            if (cache.has(prop)) {
                return cache.get(prop);
            }
            const checkProp = obj[prop];
            const mockedProp = checkProp
                ? typeof checkProp === 'function'
                    ? jest.fn(checkProp)
                    : checkProp
                : createRecursiveMockProxy();
            cache.set(prop, mockedProp);
            return mockedProp;
        }
    });
    return proxy;
};
//# sourceMappingURL=mocks.js.map